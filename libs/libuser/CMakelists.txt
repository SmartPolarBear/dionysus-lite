cmake_minimum_required(VERSION 3.16 FATAL_ERROR)

add_library(libuser STATIC uentry.S uentry_main.cc syscall_client.cc)

set_property(SOURCE uentry.S PROPERTY LANGUAGE C)

target_include_directories(libuser PUBLIC "${CMAKE_SOURCE_DIR}/include")
target_include_directories(libuser PUBLIC "include")

target_sources(libuser PRIVATE uentry.S syscall_client.cc uentry_main.cc)

